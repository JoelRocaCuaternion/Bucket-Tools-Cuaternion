<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Cuaternion Forge Sample</title>
  <link rel="icon" type="image/x-icon" href="./logo.ico" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="./main.css" />
  <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.css" />
  <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.js"></script>
</head>
<body class="vh-100 overflow-hidden">
  <!-- Header con login -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light px-3">
    <a class="navbar-brand" href="#">
      <img src="./logo.png" height="50px" alt="Cuaternion" />
    </a>
    <span class="navbar-text me-auto">Cuaternion Forge Sample</span>
    <form class="d-flex" id="login-form">
      <input class="form-control me-2" type="text" placeholder="Client ID" id="client_id" name="client_id" required />
      <input class="form-control me-2" type="password" placeholder="Client Secret" id="client_secret" name="client_secret" required />
      <button class="btn btn-outline-success" type="submit" id="loginBtn">Login</button>
    </form>
  </nav>

  <!-- Main layout -->
  <div class="container-fluid h-100">
    <div class="row h-100">
      <!-- Panel izquierdo -->
      <div class="col-3 bg-light pt-3 d-flex flex-column" id="panel-izquierdo">
        <div class="input-group mb-2">
          <input type="file" class="form-control" id="input" />
        </div>

        <button id="upload" class="btn btn-primary mb-2" onclick="uploadFile()">Upload</button>

        <ul id="tree-models" class="treeview"></ul>
      </div>

      
      <!-- Visor 3D -->
      <div class="col-9 p-0">
        <div id="preview"></div>
      </div>
    </div>
  </div>

  <div id="overlay" style="display:none;">
    <div class="notification">
      <button id="closeOverlay" aria-label="Cerrar overlay" 
        style="position:absolute; top:10px; right:15px; border:none; background:none; font-size:1.5em; cursor:pointer;">Ã—</button>
      <div id="notificationContent"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="./main.js"></script>
  <script type="module" src="./subir.js"></script>
  <script type="module" src="./viewer.js"></script>

</body>
</html>
